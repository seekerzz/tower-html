# Jules Prompts 索引

本文档列出所有待实现的Jules任务，按优先级和执行顺序组织。

## 执行优先级说明

- **P0**: 基础系统，必须先实现，其他功能依赖这些系统
- **P1**: 图腾流派单位，可以按流派并行实现

---

## P0 - 基础系统 (必须首先实现)

| 编号 | 名称 | 文件名 | 依赖 | 说明 |
|-----|------|--------|------|------|
| P0-01 | 狼图腾魂魄系统 | `P0_01_wolf_totem_soul_system.md` | 无 | 狼图腾核心机制，所有狼图腾单位依赖此系统 |
| P0-02 | 嘲讽/仇恨系统 | `P0_02_taunt_aggro_system.md` | 无 | 牦牛守护等单位依赖的嘲讽机制 |
| P0-03 | 召唤物系统 | `P0_03_summon_system.md` | 无 | 蜘蛛小蜘蛛、羊灵克隆体等依赖此系统 |
| P0-04 | 流血吸血联动 | `P0_04_bleed_lifesteal_system.md` | 无 | 蝙蝠图腾核心机制 |

**重要**: 每个P0任务是独立的，可以并行提交给Jules执行

---

## P1 - 图腾流派单位实现

### P1-A 狼图腾流派

| 编号 | 名称 | 文件名 | 依赖 |
|-----|------|--------|------|
| P1-A | 狼图腾单位群 | `P1_01_wolf_units_implementation.md` | P0-01, P0-03 |

**包含单位**: 血食、猛虎、恶霸犬、狼、鬣狗、狐狸、羊灵、狮子

### P1-B 眼镜蛇图腾流派

| 编号 | 名称 | 文件名 | 依赖 |
|-----|------|--------|------|
| P1-B | 眼镜蛇单位群 | `P1_02_viper_cobra_units.md` | 无 |

**包含单位**: 老鼠、蟾蜍、美杜莎Lv3完善

### P1-C 蝙蝠图腾流派

| 编号 | 名称 | 文件名 | 依赖 |
|-----|------|--------|------|
| P1-C | 蝙蝠图腾单位群 | `P1_03_bat_totem_units.md` | P0-04 |

**包含单位**: 石像鬼、生命链条、鲜血圣杯、血祭术士、蚊子Lv3、血法师Lv3

### P1-D 蝴蝶图腾流派

| 编号 | 名称 | 文件名 | 依赖 |
|-----|------|--------|------|
| P1-D | 蝴蝶图腾单位群 | `P1_04_butterfly_units.md` | 无 |

**包含单位**: 冰晶蝶、萤火虫、木精灵、蝴蝶技能、凤凰Lv3、龙Lv3

### P1-E 鹰图腾流派

| 编号 | 名称 | 文件名 | 依赖 |
|-----|------|--------|------|
| P1-E | 鹰图腾单位群 | `P1_05_eagle_units.md` | 无 |

**包含单位**: 红隼、猫头鹰、喜鹊、鸽子、角雕完善、疾风鹰完善、老鹰完善、秃鹫完善、啄木鸟完善

### P1-F 牛图腾流派

| 编号 | 名称 | 文件名 | 依赖 |
|-----|------|--------|------|
| P1-F | 牛图腾单位群 | `P1_06_cow_totem_units.md` | P0-02 |

**包含单位**: 苦修者、树苗完善、铁甲龟完善、刺猬完善、牦牛守护完善、岩甲牛完善、牛椋鸟完善、菌菇治愈者重写、奶牛完善

---

## 执行策略

### 关键原则

1. **任务独立性**: 每个Jules任务是独立的，没有共享上下文
2. **单任务原则**: 不要把多项任务集中到同一个Jules任务中
3. **并行执行**: 可以大量并行执行独立的Jules任务
4. **进度同步**: 每个任务必须将进度刷新到 `docs/progress.md`
5. **测试要求**: 每个任务必须按照自动化测试框架规范进行测试

### 阶段1: P0基础系统 (并行提交)

所有P0任务可以**同时**提交给Jules，每个任务独立执行：

```bash
# 并行提交所有P0任务（推荐方式）
python docs/jules_prompts/run_jules_batch.py --phase P0
```

这会在Jules中创建4个独立的会话，各自并行执行。

### 阶段2: P1流派单位 (按组并行)

P1任务可以按流派高度并行执行：

```bash
# 提交所有P1任务（6个组并行）
python docs/jules_prompts/run_jules_batch.py --phase P1 --max-workers 6
```

---

## 使用方法

### 提交单个任务

```bash
python docs/jules_prompts/run_jules_task.py \
    --prompt docs/jules_prompts/P0_01_wolf_totem_soul_system.md \
    --task-id P0-01 \
    --wait
```

### 批量提交任务

```bash
# 提交所有P0任务
python docs/jules_prompts/run_jules_batch.py --phase P0

# 提交所有P1任务
python docs/jules_prompts/run_jules_batch.py --phase P1 --max-workers 6

# 提交特定任务
python docs/jules_prompts/run_jules_batch.py --tasks P1-A,P1-B,P1-C
```

### 查看进度

```bash
cat docs/progress.md
```

---

## 每个Prompt的通用要求

所有Jules Prompts都包含以下部分：

1. **任务ID**: 唯一标识符
2. **任务描述**: 实现目标的简要说明
3. **实现要求**: 具体的代码实现细节
4. **实现步骤**: 推荐的实现顺序
5. **自动化测试要求**: 必须创建的测试用例
6. **进度同步要求**: 如何更新docs/progress.md
7. **代码提交要求**: 分支命名和提交规范
8. **注意事项**: 实现时的重要提示

---

## 任务状态跟踪

查看 `docs/progress.md` 获取实时进度：

```markdown
| 任务ID | 状态 | 描述 | 更新时间 |
|--------|------|------|----------|
| P0-01 | in_progress | 创建SoulManager | 2026-02-19T14:00:00 |
| P0-02 | pending | 等待开始 | - |
```

---

*生成时间: 2026-02-19*
